# LoginPage 測試案例

> 狀態：初始為 [ ]、完成為 [x]
> 注意：狀態只能在測試通過後由流程更新。
> 測試類型：前端元素、表單驗證、Mock API、路由導向

---

## [x] 【前端元素】應正確渲染登入頁面標題與表單元素
**範例輸入**：無（初始渲染）
**期待輸出**：頁面顯示「歡迎回來」標題、「請登入以繼續」副標題、Email 輸入框、密碼輸入框、登入按鈕

---

## [x] 【前端元素】當 VITE_API_URL 未設定時，應顯示測試帳號提示文字
**範例輸入**：`import.meta.env.VITE_API_URL` 為 falsy
**期待輸出**：頁面底部顯示「測試帳號：任意 email 格式 / 密碼需包含英數且8位以上」

---

## [x] 【表單驗證】輸入無效的 Email 格式時，應顯示 Email 錯誤訊息
**範例輸入**：Email = `"abc"`，密碼 = `"password1"`，點擊登入
**期待輸出**：顯示「請輸入有效的 Email 格式」

---

## [x] 【表單驗證】輸入少於 8 個字元的密碼時，應顯示密碼長度錯誤訊息
**範例輸入**：Email = `"test@test.com"`，密碼 = `"abc1"`，點擊登入
**期待輸出**：顯示「密碼必須至少 8 個字元」

---

## [x] 【表單驗證】輸入不含英文字母或數字的密碼時，應顯示密碼格式錯誤訊息
**範例輸入**：Email = `"test@test.com"`，密碼 = `"12345678"`，點擊登入
**期待輸出**：顯示「密碼必須包含英文字母和數字」

---

## [x] 【表單驗證】同時輸入無效 Email 與無效密碼時，應同時顯示兩個錯誤訊息
**範例輸入**：Email = `"abc"`，密碼 = `"123"`，點擊登入
**期待輸出**：同時顯示「請輸入有效的 Email 格式」與「密碼必須至少 8 個字元」

---

## [x] 【Mock API】登入成功時，應導向 /dashboard
**範例輸入**：Email = `"test@test.com"`，密碼 = `"password1"`，MSW 回傳 success
**期待輸出**：呼叫 `navigate('/dashboard', { replace: true })`

---

## [x] 【Mock API】登入失敗時（API 回傳錯誤），應顯示 API 錯誤訊息
**範例輸入**：Email = `"test@test.com"`，密碼 = `"password1"`，MSW 回傳 401 `{ message: '密碼錯誤' }`
**期待輸出**：頁面顯示「密碼錯誤」錯誤橫幅

---

## [x] 【Mock API】登入過程中，按鈕應顯示 loading 狀態且表單欄位應被禁用
**範例輸入**：填寫有效表單並提交，API 回應前
**期待輸出**：按鈕文字變為「登入中...」、按鈕 disabled、Email 與密碼輸入框 disabled

---

## [x] 【Mock API】登入失敗後（API 回傳伺服器錯誤），應顯示預設錯誤訊息
**範例輸入**：Email = `"test@test.com"`，密碼 = `"password1"`，MSW 回傳 500，無 message 欄位
**期待輸出**：頁面顯示「登入失敗，請稍後再試」

---

## [x] 【路由導向】已登入狀態下，應自動導向 /dashboard
**範例輸入**：`isAuthenticated` 為 `true`
**期待輸出**：自動導向 `/dashboard`

---

## [x] 【路由導向】當 authExpiredMessage 存在時，應顯示過期訊息並清除
**範例輸入**：`authExpiredMessage` = `"登入已過期，請重新登入"`
**期待輸出**：頁面顯示「登入已過期，請重新登入」，並呼叫 `clearAuthExpiredMessage()`
